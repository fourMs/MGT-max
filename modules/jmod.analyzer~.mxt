max v2;#N vpatcher 154 44 1057 667;#P origin 0 -205;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P hidden newex 490 124 47 196617 pcontrol;#P hidden newex 490 100 37 196617 t open;#P hidden newex 490 76 151 196617 jcom.oscroute /open_inspector;#N vpatcher 100 100 550 550;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P hidden newex 697 55 82 196617 pvar amp-range;#P window linecount 2;#P hidden newex 697 77 364 196617 jmod.parameter.mxt $0_ /amp-range @type list @ramp 0 @repetitions 0 @range 0 100 @clipmode low @description "Low and high amplitude threshold";#P objectname jmod.parameter[1];#P window linecount 1;#P hidden message 278 367 214 196617 window size 100 100 550 550 \, window exec;#P hidden message 278 332 239 196617 window flags nogrow \, savewindow 1 \, window exec;#P hidden message 278 348 158 196617 window flags grow \, window exec;#P hidden newex 278 438 40 196617 sel 1;#N thispatcher;#Q window flags nogrow close zoom nofloat;#Q window size 100 100 550 550;#Q window title;#Q window exec;#Q savewindow 1;#Q end;#P hidden newobj 278 478 69 196617 thispatcher;#P hidden newex 278 458 40 196617 t front;#P hidden inlet 249 411 15 0;#P toggle 90 374 15 0;#P toggle 90 353 15 0;#P window linecount 0;#P hidden newex 457 57 115 196617 t 40 50 0.5 100 10 7 b;#P hidden newex 457 33 58 196617 r jmod.init;#P comment 31 243 58 196617 npartial;#P number 90 243 35 9 0 0 8224 3 0 0 0 221 221 221 222 222 222 0 0 0;#P hidden message 90 260 66 196617 /npartial \$1;#P comment 26 169 58 196617 reattack;#P number 133 169 35 9 0 0 8224 3 0 0 0 221 221 221 222 222 222 0 0 0;#P hidden newex 90 209 92 196617 prepend /reattack;#P number 90 169 35 9 0 0 8224 3 0 0 0 221 221 221 222 222 222 0 0 0;#P hidden newex 90 188 27 196617 pak;#P comment 27 99 58 196617 vibrato;#P flonum 130 99 35 9 0 0 8224 3 0 0 0 221 221 221 222 222 222 0 0 0;#P hidden newex 90 141 87 196617 prepend /vibrato;#P number 90 99 35 9 0 0 8224 3 0 0 0 221 221 221 222 222 222 0 0 0;#P hidden newex 90 120 27 196617 pak;#P number 130 35 35 9 0 0 8224 3 0 0 0 221 221 221 222 222 222 0 0 0;#P hidden outlet 90 453 15 0;#P hidden newex 90 75 102 196617 prepend /amp-range;#P number 90 35 35 9 0 0 8224 3 0 0 0 221 221 221 222 222 222 0 0 0;#P hidden newex 90 54 27 196617 pak;#P message 104 353 43 196617 loud \$1;#P comment 172 353 85 196617 ¥ Loudness type;#P message 104 374 58 196617 /bright \$1;#P message 90 329 42 196617 /linear;#P message 135 329 29 196617 /log;#P comment 172 329 70 196617 ¥ Output scale;#P comment 172 374 85 196617 ¥ Brightness type;#P message 90 306 38 196617 /print;#P window linecount 4;#P comment 172 35 229 196617 ¥ A low and high amplitude threshold: if signal amplitude is below the low threshold \, no pitches or peaks are output. The high threshold is a minimum at which "cooked" outputs may appear.;#P comment 172 99 230 196617 ¥ A period in milliseconds (50) over which the raw pitch may not deviate more than an interval in half-tones (0.5) from the average pitch to report it as a note to the "cooked" pitch outlet.;#P window linecount 5;#P comment 172 169 231 196617 ¥ A period in milliseconds (100) over which a re-attack is reported if the amplitude rises more than (10) dB. The re-attack will result in a "bang" in the attack outlet and may give rise to repeated notes in the cooked pitch output.;#P window linecount 4;#P comment 172 243 232 196617 ¥ Higher partials are weighed less strongly than lower ones in determining the pitch -- this specifies the number of the partial (7) which will be weighted half as strongly as the fundamental.;#P window linecount 1;#P comment 172 306 231 196617 ¥ Print the values of these parameters.;#P comment 23 35 58 196617 amp-range;#P window linecount 0;#P comment 693 161 100 196617 Need to parametrize everything here...;#P hidden connect 34 0 16 0;#P hidden connect 16 0 15 0;#P hidden connect 15 0 17 0;#P hidden connect 34 1 21 0;#P hidden connect 21 0 20 0;#P hidden connect 20 0 22 0;#P hidden connect 34 3 26 0;#P hidden connect 26 0 25 0;#P hidden connect 25 0 27 0;#P hidden connect 34 5 31 0;#P hidden connect 31 0 30 0;#P hidden connect 27 0 18 0;#P hidden connect 30 0 18 0;#P hidden connect 17 0 18 0;#P hidden connect 22 0 18 0;#P hidden connect 7 0 18 0;#P hidden connect 12 0 18 0;#P hidden connect 14 0 18 0;#P hidden connect 11 0 18 0;#P hidden connect 10 0 18 0;#P hidden connect 35 0 14 0;#P hidden connect 36 0 12 0;#P hidden connect 19 0 15 1;#P hidden connect 23 0 20 1;#P hidden connect 28 0 25 1;#P hidden connect 34 1 19 0;#P hidden connect 34 2 23 0;#P hidden connect 34 4 28 0;#P hidden connect 34 6 42 0;#P hidden connect 34 6 43 0;#P hidden fasten 37 0 40 0 254 432 283 432;#P hidden connect 40 0 38 0;#P hidden connect 43 0 39 0;#P hidden connect 41 0 39 0;#P hidden connect 42 0 39 0;#P hidden connect 38 0 39 0;#P hidden connect 33 0 34 0;#P hidden fasten 44 0 45 0 702 121 692 121 692 51 702 51;#P hidden connect 45 0 44 0;#P pop;#P hidden newobj 490 148 60 196617 p inspector;#P objectname inspector;#P hidden newex 490 215 64 196617 jcom.out~ 0;#P hidden inlet 466 32 13 0;#P hidden comment 481 32 65 196617 Audio INPUT;#P hidden newex 466 51 58 196617 jcom.in~ 1;#P hidden newex 631 124 47 196617 pcontrol;#P hidden newex 631 100 78 196617 jcom.pass open;#P hidden newex 490 184 101 196617 jcom.analyzer~.mxt;#P user spectroscope~ 0 16 255 104 20 0 1 0 1 1 0 0 0 0 0 0;#X frgb 224 224 224;#X brgb 255 255 255;#X rgb2 0 0 0;#X rgb3 243 204 204;#X rgb4 255 0 0;#X rgb5 184 184 184;#X rgb6 0 0 0;#X rgb7 0 0 0;#X rgb8 255 255 255;#X rgb9 255 0 0;#X rgb10 255 191 0;#X rgb11 0 191 127;#X rgb12 127 0 127;#X rgb13 0 0 0;#X range 0. 1.2;#X domain 0. 22050.;#X done;#P hidden message 107 142 125 196617 /documentation/generate;#P window linecount 2;#P hidden message 55 286 65 196617 \; max refresh;#P hidden newex -1 164 257 196617 jcom.hub jmod.analyzer~ @size 2U-half @module_type audio @inspector 1 @description "Sound analysis.";#P objectname jmod.hub;#P window linecount 1;#P hidden comment 13 145 79 196617 command input;#P hidden inlet -1 145 13 0;#P window linecount 2;#P hidden message 55 254 72 196617 \; jmod.init bang;#P window linecount 3;#P hidden newex 279 164 79 196617 pattrstorage @autorestore 0 @savemode 0;#X client_rect 34 59 730 530;#X storage_rect 0 0 640 240;#P objectname u200000012;#P hidden inlet 20 -20 13 0;#P window linecount 1;#P hidden comment 15 -30 105 196617 ----signal inputs----;#P hidden outlet -1 306 13 0;#P bpatcher 0 0 256 125 0 0 jcom.gui.mxt 0;#P objectname jcom.gui.1Uh.a.stereo.mxt;#P hidden fasten 10 0 8 0 112 161 4 161;#P hidden connect 6 0 8 0;#P hidden connect 8 0 1 0;#P lcolor 6;#P hidden connect 15 0 11 0;#P hidden connect 17 0 15 0;#P hidden connect 15 1 20 0;#P hidden connect 20 0 21 0;#P hidden connect 21 0 22 0;#P hidden connect 22 0 19 0;#P hidden fasten 15 0 12 0 471 173 495 173;#P hidden connect 19 0 12 0;#P hidden fasten 14 0 12 0 636 173 495 173;#P hidden connect 20 1 13 0;#P hidden connect 13 0 14 0;#P pop;